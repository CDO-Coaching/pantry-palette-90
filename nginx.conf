server {
  listen 80;
  server_name _;

  root /usr/share/nginx/html;
  index index.html;

  # Gestion React / Vite : toujours renvoyer index.html
  location / {
    try_files $uri /index.html;
  }

  # Assets : cache agressif
  location /assets/ {
    add_header Cache-Control "public, max-age=31536000, immutable";
    try_files $uri =404;
  }

  # Types MIME corrects pour JS/CSS
  types {
    text/javascript js;
    text/css css;
  }

  default_type application/octet-stream;
}

